-- ==========================================
-- SCRIPT 1 - UNTUK HP PERTAMA (CARRIER)
-- Copy script ini dan execute di HP pertama
-- ==========================================

local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")

local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

local isCarrying = false
local targetPlayer = nil
local carryConnection = nil

-- Create GUI
local function createGUI()
    local gui = Instance.new("ScreenGui")
    gui.Name = "CarrierGUI"
    gui.Parent = PlayerGui
    
    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(0, 200, 0, 80)
    frame.Position = UDim2.new(0, 10, 1, -90)
    frame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    frame.BorderSizePixel = 0
    frame.Parent = gui
    
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 8)
    corner.Parent = frame
    
    local stroke = Instance.new("UIStroke")
    stroke.Color = Color3.fromRGB(0, 120, 255)
    stroke.Thickness = 2
    stroke.Parent = frame
    
    local title = Instance.new("TextLabel")
    title.Size = UDim2.new(1, 0, 0, 25)
    title.BackgroundColor3 = Color3.fromRGB(0, 120, 255)
    title.Text = "HP 1 - CARRIER"
    title.TextColor3 = Color3.white
    title.TextSize = 12
    title.Font = Enum.Font.GothamBold
    title.TextXAlignment = Enum.TextXAlignment.Center
    title.Parent = frame
    
    local titleCorner = Instance.new("UICorner")
    titleCorner.CornerRadius = UDim.new(0, 8)
    titleCorner.Parent = title
    
    local carryBtn = Instance.new("TextButton")
    carryBtn.Size = UDim2.new(0.45, 0, 0, 30)
    carryBtn.Position = UDim2.new(0.05, 0, 0, 35)
    carryBtn.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
    carryBtn.Text = "GENDONG"
    carryBtn.TextColor3 = Color3.white
    carryBtn.TextSize = 11
    carryBtn.Font = Enum.Font.GothamBold
    carryBtn.Parent = frame
    
    local carryCorner = Instance.new("UICorner")
    carryCorner.CornerRadius = UDim.new(0, 6)
    carryCorner.Parent = carryBtn
    
    local stopBtn = Instance.new("TextButton")
    stopBtn.Size = UDim2.new(0.45, 0, 0, 30)
    stopBtn.Position = UDim2.new(0.5, 0, 0, 35)
    stopBtn.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
    stopBtn.Text = "TURUN"
    stopBtn.TextColor3 = Color3.white
    stopBtn.TextSize = 11
    stopBtn.Font = Enum.Font.GothamBold
    stopBtn.Parent = frame
    
    local stopCorner = Instance.new("UICorner")
    stopCorner.CornerRadius = UDim.new(0, 6)
    stopCorner.Parent = stopBtn
    
    return frame, carryBtn, stopBtn
end

-- Find target player
local function findTarget()
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            return player
        end
    end
    return nil
end

-- Start carrying
local function startCarry()
    if isCarrying then return end
    
    targetPlayer = findTarget()
    if not targetPlayer then return end
    
    isCarrying = true
    
    local myChar = LocalPlayer.Character
    local myRoot = myChar:FindFirstChild("HumanoidRootPart")
    local targetChar = targetPlayer.Character
    local targetRoot = targetChar:FindFirstChild("HumanoidRootPart")
    
    if not myRoot or not targetRoot then
        stopCarry()
        return
    end
    
    -- Create weld
    local weld = Instance.new("WeldConstraint")
    weld.Part0 = myRoot
    weld.Part1 = targetRoot
    weld.Parent = myRoot
    
    -- Position offset
    carryConnection = RunService.Heartbeat:Connect(function()
        if weld and weld.Parent then
            weld.C1 = CFrame.new(1.5, 1.5, -0.5) * CFrame.Angles(0, math.rad(10), math.rad(-10))
        end
    end)
    
    -- Signal to target
    local signal = Instance.new("StringValue")
    signal.Name = "CarrySignal"
    signal.Value = "START:" .. LocalPlayer.UserId
    signal.Parent = workspace
    
    print("Started carrying " .. targetPlayer.Name)
end

-- Stop carrying
local function stopCarry()
    isCarrying = false
    
    if carryConnection then
        carryConnection:Disconnect()
        carryConnection = nil
    end
    
    -- Remove welds
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        for _, obj in pairs(LocalPlayer.Character.HumanoidRootPart:GetChildren()) do
            if obj:IsA("WeldConstraint") then
                obj:Destroy()
            end
        end
    end
    
    -- Signal stop
    local signal = Instance.new("StringValue")
    signal.Name = "StopSignal" 
    signal.Value = "STOP:" .. LocalPlayer.UserId
    signal.Parent = workspace
    
    targetPlayer = nil
    print("Stopped carrying")
end

-- Setup
local mainFrame, carryBtn, stopBtn = createGUI()

carryBtn.MouseButton1Click:Connect(startCarry)
stopBtn.MouseButton1Click:Connect(stopCarry)

UserInputService.InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.G then
        if isCarrying then
            stopCarry()
        else
            startCarry()
        end
    end
end)

print("HP 1 CARRIER READY - Press G to carry/drop")

-- ==========================================
-- ==========================================
